<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certification de Lecture</title>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        iframe { width: 100%; height: 500px; border: 1px solid #ccc; }
        form { margin-top: 20px; }
        label, input, button { display: block; margin: 10px auto; }
        .signature-text { width: 100%; padding: 10px; font-size: 18px; }
    </style>
</head>
<body>
    <h2>Veuillez lire le document avant de signer</h2>

    <!-- Affichage du PDF hébergé sur GitHub Pages -->
    <iframe src="https://protocolelba.github.io/Protocole-LBA/document.pdf" frameborder="0"></iframe>

    <form id="certificationForm">
        <label>
            <input type="checkbox" id="confirmRead" required>
            J'atteste avoir lu et compris le document ci-dessus.
        </label>
        <input type="text" id="societeDeLivraison" placeholder="Société de livraison" required>
        <input type="text" id="entrepriseLivree" placeholder="Entreprise livrée" required>
        <input type="date" id="date" required>
        <input type="time" id="heure" required>

        <!-- Champ de signature texte -->
        <label for="signature">Signature :</label>
        <input type="text" id="signature" class="signature-text" placeholder="Entrez votre signature" required>

        <button type="submit">Soumettre</button>
    </form>

    <script>
        document.getElementById('certificationForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const societeDeLivraison = document.getElementById('societeDeLivraison').value;
            const entrepriseLivree = document.getElementById('entrepriseLivree').value;
            const date = document.getElementById('date').value;
            const heure = document.getElementById('heure').value;
            const signature = document.getElementById('signature').value;

            const emailParams = {
                societeDeLivraison: societeDeLivraison,
                entrepriseLivree: entrepriseLivree,
                date: date,
                heure: heure,
                signature: signature, // On envoie la signature sous forme de texte
                to_email: "Dylan.NGARNDO@demathieu-bard.fr, remi.rousseau@demathieu-bard.fr",
            };

            emailjs.send("service_dz2cv9o", "template_hjb10b5", emailParams)
            .then(function(response) {
                alert("Données envoyées avec succès !");
            }, function(error) {
                alert("Erreur lors de l'envoi de l'email.");
            });
        });
    </script>
</body>
</html>



